COMMON_SOURCES = ["common/**/*.java"]

CONF G_SOURCES = ["conf g/**/*.java"]

TOOLS_SOURCES = ["tools/**/*.java"]

 NDEX_SOURCES = [" ndex/facets/**/*.java"]

SEGMENT_BU LDER_SOURCES = ["arch ve/seg ntbu lder/**/*.java"]

java_l brary(
    na  = "earlyb rd-l b",
    s ces = ["**/*.java"] + exclude_globs(COMMON_SOURCES + CONF G_SOURCES + TOOLS_SOURCES + SEGMENT_BU LDER_SOURCES +  NDEX_SOURCES),
    platform = "java8",
    tags = ["bazel-compat ble"],
    dependenc es = [
        "3rdparty/jvm/com/google/code/gson",
        "3rdparty/jvm/com/google/guava",
        "3rdparty/jvm/com/tw ter/d str butedlog:d str butedlog-core",
        "3rdparty/jvm/com/tw ter/elephantb rd:core",
        "3rdparty/jvm/commons-codec",
        "3rdparty/jvm/commons-httpcl ent",
        "3rdparty/jvm/commons- o",
        "3rdparty/jvm/commons-lang",
        "3rdparty/jvm/geo/google:geoGoogle",
        "3rdparty/jvm/ o/netty:netty4-tcnat ve-bor ngssl-stat c",
        "3rdparty/jvm/ /un m /ds :fastut l",
        "3rdparty/jvm/javax/servlet:servlet-ap ",
        "3rdparty/jvm/net/java/dev/jets3t",
        "3rdparty/jvm/org/apac /bookkeeper:bookkeeper-server",
        "3rdparty/jvm/org/apac /bookkeeper:bookkeeper-tw ter-sc ence-prov der",
        "3rdparty/jvm/org/apac /commons:commons-lang3",
        "3rdparty/jvm/org/apac /hadoop:hadoop-cl ent-default",
        "3rdparty/jvm/org/apac /httpcomponents:httpcl ent",
        "3rdparty/jvm/org/apac /kafka:kafka-cl ents",
        "3rdparty/jvm/org/apac /lucene:lucene-analyzers-common",
        "3rdparty/jvm/org/apac /lucene:lucene-analyzers-smartcn",
        "3rdparty/jvm/org/apac /lucene:lucene-core",
        "3rdparty/jvm/org/apac /lucene:lucene-facet",
        "3rdparty/jvm/org/apac /lucene:lucene-quer es",
        "3rdparty/jvm/org/apac /lucene:lucene-queryparser",
        "3rdparty/jvm/org/apac /lucene:lucene-spat al-extras",
        "3rdparty/jvm/org/apac /lucene:lucene-test-fra work",
        "3rdparty/jvm/org/apac /thr ft",
        "3rdparty/jvm/org/apac /zookeeper:zookeeper-cl ent",
        "3rdparty/jvm/org/json",
        "3rdparty/jvm/org/slf4j:slf4j-ap ",
        "3rdparty/jvm/org/tensorflow",
        "3rdparty/jvm/org/tensorflow:tensorflow-hadoop",
        "3rdparty/jvm/org/yaml:snakeyaml",
        "cuad/projects/ner/thr ft/src/ma n/thr ft:thr ft-java",
        "dec der/src/ma n/scala",
        "f nagle- nternal/mtls/src/ma n/scala/com/tw ter/f nagle/mtls/aut nt cat on",
        "f nagle- nternal/mtls/src/ma n/scala/com/tw ter/f nagle/mtls/cl ent",
        "f nagle- nternal/mtls/src/ma n/scala/com/tw ter/f nagle/mtls/server",
        "f nagle- nternal/slo/src/ma n/scala/com/tw ter/f nagle/slo",
        "f nagle/f nagle-base-http",
        "f nagle/f nagle-core/src/ma n",
        "f nagle/f nagle-http",
        "f nagle/f nagle-serversets/src/ma n/scala",
        "f nagle/f nagle-stats/src/ma n/scala",
        "f nagle/f nagle-thr ft/src/ma n/java",
        "f nagle/f nagle-thr ft/src/ma n/scala",
        "f nagle/f nagle-thr ftmux/src/ma n/scala",
        "f nagle/f nagle-z pk n-core/src/ma n/scala",
        "f nagle/f nagle-z pk n-scr be/src/ma n/scala",
        "kafka/f nagle-kafka/f natra-kafka/src/ma n/scala",
        "per scope/ap -proxy-thr ft/thr ft/src/ma n/thr ft:thr ft-java",
        "servo/dec der",
        "snowflake/src/ma n/scala/com/tw ter/snowflake/ d",
        "src/antlr/com/tw ter/search/queryparser/antlr:queryparser-antlr",
        "src/java/com/tw ter/common/base",
        "src/java/com/tw ter/common/collect ons",
        "src/java/com/tw ter/common/net:dynam c-host-set",
        "src/java/com/tw ter/common/quant y",
        "src/java/com/tw ter/common/text/language:locale-ut l",
        "src/java/com/tw ter/common/text/token",
        "src/java/com/tw ter/common/text/ut l:token-ut l",
        "src/java/com/tw ter/common/ut l",
        "src/java/com/tw ter/common/ut l:system-mocks",
        "src/java/com/tw ter/common/zookeeper:cl ent",
        "src/java/com/tw ter/common/zookeeper:group",
        "src/java/com/tw ter/common/zookeeper:server-set",
        "src/java/com/tw ter/common_ nternal/bloomf lter",
        "src/java/com/tw ter/common_ nternal/collect ons",
        "src/java/com/tw ter/common_ nternal/text:text-pengu n7",
        "src/java/com/tw ter/common_ nternal/text/vers on",
        "src/java/com/tw ter/common_ nternal/zookeeper",
        "src/java/com/tw ter/ml/ap :ap -base",
        "src/java/com/tw ter/search/common/aurora",
        "src/java/com/tw ter/search/common/concurrent",
        "src/java/com/tw ter/search/common/conf g",
        "src/java/com/tw ter/search/common/constants",
        "src/java/com/tw ter/search/common/dark",
        "src/java/com/tw ter/search/common/database",
        "src/java/com/tw ter/search/common/dec der",
        "src/java/com/tw ter/search/common/encod ng/docvalues",
        "src/java/com/tw ter/search/common/encod ng/features",
        "src/java/com/tw ter/search/common/features",
        "src/java/com/tw ter/search/common/f le",
        "src/java/com/tw ter/search/common/logg ng",
        "src/java/com/tw ter/search/common/ tr cs",
        "src/java/com/tw ter/search/common/part  on ng/base",
        "src/java/com/tw ter/search/common/part  on ng/snowflakeparser",
        "src/java/com/tw ter/search/common/part  on ng/zookeeper",
        "src/java/com/tw ter/search/common/query",
        "src/java/com/tw ter/search/common/relevance:feature-update-reader",
        "src/java/com/tw ter/search/common/relevance:scorers",
        "src/java/com/tw ter/search/common/relevance:text",
        "src/java/com/tw ter/search/common/relevance/features",
        "src/java/com/tw ter/search/common/sc ma",
        "src/java/com/tw ter/search/common/sc ma/base",
        "src/java/com/tw ter/search/common/sc ma/earlyb rd",
        "src/java/com/tw ter/search/common/search",
        "src/java/com/tw ter/search/common/search/term nat on",
        "src/java/com/tw ter/search/common/ut l:closeres ceut l",
        "src/java/com/tw ter/search/common/ut l:f nagleut l",
        "src/java/com/tw ter/search/common/ut l:gcut l",
        "src/java/com/tw ter/search/common/ut l:kerberos",
        "src/java/com/tw ter/search/common/ut l:log_format_ut l",
        "src/java/com/tw ter/search/common/ut l:long ntconverter",
        "src/java/com/tw ter/search/common/ut l:platform_stats_exporter",
        "src/java/com/tw ter/search/common/ut l:rule_based_converter",
        "src/java/com/tw ter/search/common/ut l/analys s",
        "src/java/com/tw ter/search/common/ut l/date",
        "src/java/com/tw ter/search/common/ut l/earlyb rd",
        "src/java/com/tw ter/search/common/ut l/hash",
        "src/java/com/tw ter/search/common/ut l/ o",
        "src/java/com/tw ter/search/common/ut l/ o:dl-reader-wr er",
        "src/java/com/tw ter/search/common/ut l/ o:flushable",
        "src/java/com/tw ter/search/common/ut l/ o:record-reader-ap ",
        "src/java/com/tw ter/search/common/ut l/ o/kafka",
        "src/java/com/tw ter/search/common/ut l/lang",
        "src/java/com/tw ter/search/common/ut l/ml/models_manager",
        "src/java/com/tw ter/search/common/ut l/ml/pred ct on_eng ne",
        "src/java/com/tw ter/search/common/ut l/ml/tensorflow_eng ne",
        "src/java/com/tw ter/search/common/ut l/spat al",
        "src/java/com/tw ter/search/common/ut l/text",
        "src/java/com/tw ter/search/common/ut l/text/regex",
        "src/java/com/tw ter/search/common/ut l/thr ft:text-protocol",
        "src/java/com/tw ter/search/common/ut l/thr ft:thr ft-ut ls",
        "src/java/com/tw ter/search/common/ut l/url",
        "src/java/com/tw ter/search/common/ut l/zktrylock",
        "src/java/com/tw ter/search/common/ut l/zookeeper",
        "src/java/com/tw ter/search/core/earlyb rd",
        "src/java/com/tw ter/search/earlyb rd/common",
        "src/java/com/tw ter/search/earlyb rd/common/conf g",
        "src/java/com/tw ter/search/earlyb rd/common/userupdates",
        "src/java/com/tw ter/search/earlyb rd/conf g",
        "src/java/com/tw ter/search/earlyb rd/ ndex/facets",
        "src/java/com/tw ter/search/ ngester/p pel ne/strato_fetc rs",
        "src/java/com/tw ter/search/model ng/common",
        "src/java/com/tw ter/search/model ng/t et_rank ng",
        "src/java/com/tw ter/search/queryparser",
        "src/java/com/tw ter/search/queryparser/query:core-query-nodes",
        "src/java/com/tw ter/search/queryparser/query/search:search-query-nodes",
        "src/res ces/com/tw ter/search/earlyb rd/com/tw ter",
        "src/res ces/com/tw ter/search/earlyb rd/ml",
        "src/thr ft/com/tw ter/search:common",
        "src/thr ft/com/tw ter/search:earlyb rd-java",
        "src/thr ft/com/tw ter/search/common:features-java",
        "src/thr ft/com/tw ter/search/common: ndex ng-java",
        "src/thr ft/com/tw ter/search/common:query-java",
        "src/thr ft/com/tw ter/serv ce/sp derduck/gen: tadata-store-java",
        "src/thr ft/com/tw ter/t etyp e:events-java",
        "src/thr ft/org/apac /aurora/gen:ap ",
        "st ch/st ch-core/src/ma n/scala/com/tw ter/st ch",
        "strato/src/ma n/scala/com/tw ter/strato/catalog",
        "strato/src/ma n/scala/com/tw ter/strato/cl ent",
        "strato/src/ma n/scala/com/tw ter/strato/data",
        "strato/src/ma n/scala/com/tw ter/strato/thr ft",
        "tensorflow/tfcompute-java/src/ma n/java/com/tw ter/tfcompute_java",
        "thr ft- b-forms/src/ma n/java/com/tw ter/thr ft bforms",
        "thr ft- b-forms/src/ma n/scala/com/tw ter/thr ft bforms",
        "tw ter-server- nternal",
        "tw ter-server/server/src/ma n/scala",
        "ubs/common/src/ma n/thr ft/com/tw ter/ubs:broadcast-thr ft-java",
        "ubs/common/src/ma n/thr ft/com/tw ter/ubs:events-java",
        "ut l- nternal/ut l-eval/src/ma n/scala",
        "ut l/ut l-app",
        "ut l/ut l-core:scala",
        "ut l/ut l-funct on",
        "ut l/ut l-l nt",
        "ut l/ut l-slf4j-ap /src/ma n/scala",
        "ut l/ut l-stats/src/ma n/scala",
    ],
)

jvm_b nary(
    na  = "earlyb rd-b nary",
    basena  = "earlyb rd",
    ma n = "com.tw ter.search.earlyb rd.Earlyb rdMa n",
    platform = "java8",
    tags = ["bazel-compat ble"],
    dependenc es = [
        ":earlyb rd-l b",
        "loglens/loglens-log4j",
    ],
)

java_l brary(
    na  = "tools",
    s ces = TOOLS_SOURCES,
    tags = [
        "bazel-compat ble",
        "bazel-only",
    ],
    dependenc es = [
        ":earlyb rd-l b",
        "3rdparty/jvm/com/google/guava",
        "3rdparty/jvm/com/google/guava:guava-testl b",
        "3rdparty/jvm/commons-codec",
        "3rdparty/jvm/commons-httpcl ent",
        "3rdparty/jvm/geo/google:geoGoogle",
        "3rdparty/jvm/jun ",
        "3rdparty/jvm/net/java/dev/jets3t",
        "3rdparty/jvm/org/apac /bookkeeper:bookkeeper-server",
        "3rdparty/jvm/org/apac /hadoop:hadoop-cl ent-default",
        "3rdparty/jvm/org/apac /thr ft:l bthr ft",
        "src/thr ft/com/tw ter/search:earlyb rd-java",
    ],
)
