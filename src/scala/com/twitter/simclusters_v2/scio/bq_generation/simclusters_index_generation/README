# Adhoc S mClusters Cluster-to-t et  ndex Generat on Jobs
## Bu ld and bundle t  b nar es

```
 bazel bundle src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on/...
```

## Run t  adhoc jobs
### To run fav based cluster-to-t et  ndex generat on job (adhoc):
b n/d6w create \
  twttr-recos-ml-prod/us-central1/fav-based- ndex-generat on-adhoc-job \
  src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on/engage nt-event-based-s mclusters- ndex-generat on-job.d6w \
  --jar d st/fav-based-cluster-to-t et- ndex-generat on-adhoc-job-bundle/fav-based-cluster-to-t et- ndex-generat on-adhoc-job.jar \
  --b nd=prof le.user_na =y _ldap \
  --b nd=prof le.date="2022-07-15" \
  --b nd=prof le.frequency="PT1H" \
  --b nd=prof le.env ron nt=dev \
  --b nd=prof le.job_na ="fav-based- ndex-generat on-adhoc-job" \
  --b nd=prof le.bu ld_target="src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on:fav-based-cluster-to-t et- ndex-generat on-adhoc-job"

### To run V deoV ew based cluster-to-t et  ndex generat on job (adhoc):
b n/d6w create \
  twttr-recos-ml-prod/us-central1/v deo-v ew-based- ndex-generat on-adhoc-job \
  src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on/engage nt-event-based-s mclusters- ndex-generat on-job.d6w \
  --jar d st/v deo-v ew-based-cluster-to-t et- ndex-generat on-adhoc-job-bundle/v deo-v ew-based-cluster-to-t et- ndex-generat on-adhoc-job.jar \
  --b nd=prof le.user_na =y _ldap \
  --b nd=prof le.date="2022-07-15" \
  --b nd=prof le.frequency="PT1H" \
  --b nd=prof le.env ron nt=dev \
  --b nd=prof le.job_na ="v deo-v ew-based- ndex-generat on-adhoc-job" \
  --b nd=prof le.bu ld_target="src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on:v deo-v ew-based-cluster-to-t et- ndex-generat on-adhoc-job"

### To run ret et based cluster-to-t et  ndex generat on job (adhoc):
b n/d6w create \
  twttr-recos-ml-prod/us-central1/ret et-based- ndex-generat on-adhoc-job \
  src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on/engage nt-event-based-s mclusters- ndex-generat on-job.d6w \
  --jar d st/ret et-based-cluster-to-t et- ndex-generat on-adhoc-job-bundle/ret et-based-cluster-to-t et- ndex-generat on-adhoc-job.jar \
  --b nd=prof le.user_na =y _ldap \
  --b nd=prof le.date="2022-07-15" \
  --b nd=prof le.frequency="PT1H" \
  --b nd=prof le.env ron nt=dev \
  --b nd=prof le.job_na ="ret et-based- ndex-generat on-adhoc-job" \
  --b nd=prof le.bu ld_target="src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on:ret et-based-cluster-to-t et- ndex-generat on-adhoc-job"

### To run reply based cluster-to-t et  ndex generat on job (adhoc):
b n/d6w create \
  twttr-recos-ml-prod/us-central1/reply-based- ndex-generat on-adhoc-job \
  src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on/engage nt-event-based-s mclusters- ndex-generat on-job.d6w \
  --jar d st/reply-based-cluster-to-t et- ndex-generat on-adhoc-job-bundle/reply-based-cluster-to-t et- ndex-generat on-adhoc-job.jar \
  --b nd=prof le.user_na =y _ldap \
  --b nd=prof le.date="2022-07-15" \
  --b nd=prof le.frequency="PT1H" \
  --b nd=prof le.env ron nt=dev \
  --b nd=prof le.job_na ="reply-based- ndex-generat on-adhoc-job" \
  --b nd=prof le.bu ld_target="src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on:reply-based-cluster-to-t et- ndex-generat on-adhoc-job"

### To run push open based cluster-to-t et  ndex generat on job (adhoc):
b n/d6w create \
  twttr-recos-ml-prod/us-central1/push-open-based- ndex-generat on-adhoc-job \
  src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on/engage nt-event-based-s mclusters- ndex-generat on-job.d6w \
  --jar d st/push-open-based-cluster-to-t et- ndex-generat on-adhoc-job-bundle/push-open-based-cluster-to-t et- ndex-generat on-adhoc-job.jar \
  --b nd=prof le.user_na =y _ldap \
  --b nd=prof le.date="2022-10-06" \
  --b nd=prof le.frequency="PT1H" \
  --b nd=prof le.env ron nt=dev \
  --b nd=prof le.job_na ="push-open-based- ndex-generat on-adhoc-job" \
  --b nd=prof le.bu ld_target="src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on:push-open-based-cluster-to-t et- ndex-generat on-adhoc-job"

# For prod sc duled Cluster-to-t et  ndex Generat on Jobs
### To run Fav based cluster-to-t et  ndex generat on job (batch):
 b n/d6w sc dule \
  twttr-recos-ml-prod/us-central1/fav-based- ndex-generat on-batch-job  \
  src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on/engage nt-event-based-s mclusters- ndex-generat on-job.d6w \
  --b nd=prof le.user_na =cassowary \
  --b nd=prof le.env ron nt=prod \
  --b nd=prof le.date="2022-07-19" \
  --b nd=prof le.frequency="PT1H" \
  --b nd=prof le.job_na ="fav-based- ndex-generat on-batch-job" \
  --b nd=prof le.bu ld_target="src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on:fav-based-cluster-to-t et- ndex-generat on-batch-job"

### To run V deoV ew based cluster-to-t et  ndex generat on job (batch):
 b n/d6w sc dule \
  twttr-recos-ml-prod/us-central1/v deo-v ew-based- ndex-generat on-batch-job  \
  src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on/engage nt-event-based-s mclusters- ndex-generat on-job.d6w \
  --b nd=prof le.user_na =cassowary \
  --b nd=prof le.env ron nt=prod \
  --b nd=prof le.date="2022-07-19" \
  --b nd=prof le.frequency="PT1H" \
  --b nd=prof le.job_na ="v deo-v ew-based- ndex-generat on-batch-job" \
  --b nd=prof le.bu ld_target="src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on:v deo-v ew-based-cluster-to-t et- ndex-generat on-batch-job"

### To run Ret et based cluster-to-t et  ndex generat on job (batch):
 b n/d6w sc dule \
  twttr-recos-ml-prod/us-central1/ret et-based- ndex-generat on-batch-job  \
  src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on/engage nt-event-based-s mclusters- ndex-generat on-job.d6w \
  --b nd=prof le.user_na =cassowary \
  --b nd=prof le.env ron nt=prod \
  --b nd=prof le.date="2022-07-19" \
  --b nd=prof le.frequency="PT1H" \
  --b nd=prof le.job_na ="ret et-based- ndex-generat on-batch-job" \
  --b nd=prof le.bu ld_target="src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on:ret et-based-cluster-to-t et- ndex-generat on-batch-job"

### To run Reply based cluster-to-t et  ndex generat on job (batch):
 b n/d6w sc dule \
  twttr-recos-ml-prod/us-central1/reply-based- ndex-generat on-batch-job  \
  src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on/engage nt-event-based-s mclusters- ndex-generat on-job.d6w \
  --b nd=prof le.user_na =cassowary \
  --b nd=prof le.env ron nt=prod \
  --b nd=prof le.date="2022-07-19" \
  --b nd=prof le.frequency="PT1H" \
  --b nd=prof le.job_na ="reply-based- ndex-generat on-batch-job" \
  --b nd=prof le.bu ld_target="src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on:reply-based-cluster-to-t et- ndex-generat on-batch-job"

### To run Push open based cluster-to-t et  ndex generat on job (batch):
 b n/d6w sc dule \
  twttr-recos-ml-prod/us-central1/push-open-based- ndex-generat on-batch-job  \
  src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on/engage nt-event-based-s mclusters- ndex-generat on-job.d6w \
  --b nd=prof le.user_na =cassowary \
  --b nd=prof le.env ron nt=prod \
  --b nd=prof le.date="2022-10-06" \
  --b nd=prof le.frequency="PT1H" \
  --b nd=prof le.job_na ="push-open-based- ndex-generat on-batch-job" \
  --b nd=prof le.bu ld_target="src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on:push-open-based-cluster-to-t et- ndex-generat on-batch-job"

### To run Ads Fav based cluster-to-t et  ndex generat on job (batch):
 b n/d6w sc dule \
  twttr-recos-ml-prod/us-central1/ads-fav-based- ndex-generat on-batch-job  \
  src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on/engage nt-event-based-s mclusters- ndex-generat on-job.d6w \
  --b nd=prof le.user_na =cassowary \
  --b nd=prof le.env ron nt=prod \
  --b nd=prof le.date="2022-10-06" \
  --b nd=prof le.frequency="PT3H" \
  --b nd=prof le.job_na ="ads-fav-based- ndex-generat on-batch-job" \
  --b nd=prof le.bu ld_target="src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on:ads-fav-based-cluster-to-t et- ndex-generat on-batch-job"

### To run Ads Fav Cl ck based cluster-to-t et  ndex generat on job (batch):
 b n/d6w sc dule \
  twttr-recos-ml-prod/us-central1/ads-fav-cl ck-based- ndex-generat on-batch-job  \
  src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on/engage nt-event-based-s mclusters- ndex-generat on-job.d6w \
  --b nd=prof le.user_na =cassowary \
  --b nd=prof le.env ron nt=prod \
  --b nd=prof le.date="2022-12-09" \
  --b nd=prof le.frequency="PT3H" \
  --b nd=prof le.job_na ="ads-fav-cl ck-based- ndex-generat on-batch-job" \
  --b nd=prof le.bu ld_target="src/scala/com/tw ter/s mclusters_v2/sc o/bq_generat on/s mclusters_ ndex_generat on:ads-fav-cl ck-based-cluster-to-t et- ndex-generat on-batch-job"

