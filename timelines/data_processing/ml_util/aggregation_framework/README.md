Overv ew
========


T  **aggregat on fra work**  s a set of l brar es and ut l  es that allows teams to flex bly
compute aggregate (count ng) features  n both batch and  n real-t  . Aggregate features can capture
 tor cal  nteract ons bet en on arb rary ent  es (and sets t reof), cond  onal on prov ded features
and labels.

T se types of eng neered aggregate features have proven to be h ghly  mpactful across d fferent teams at Tw ter.


What are so  features   can compute?
--------------------------------------

T  fra work supports comput ng aggregate features on prov ded group ng keys. T  only constra nt  s that t se keys are sparse b nary features (or are sets t reof).

For example, a common use case  s to calculate a user's past engage nt  tory w h var ous types of t ets (photo, v deo, ret ets, etc.), spec f c authors, spec f c  n-network engagers or any ot r ent y t  user has  nteracted w h and that could prov de s gnal.  n t  case, t  underly ng aggregat on keys are `user d`, `(user d, author d)` or `(user d, engager d)`.

 n T  l nes and Mag cRecs,   also compute custom aggregate engage nt counts on every `t et d`. S m lary, ot r aggregat ons are poss ble, perhaps on `advert ser d` or ` d a d` as long as t  group ng key  s sparse b nary.


What  mple ntat ons are supported?
-----------------------------------

Offl ne,   support t  da ly batch process ng of DataRecords conta n ng all requ red  nput features to generate
aggregate features. T se are t n uploaded to Manhattan for onl ne hydrat on.

Onl ne,   support t  real-t   aggregat on of DataRecords through Storm w h a back ng  mcac  that can be quer ed
for t  real-t   aggregate features.

Add  onal docu ntat on ex sts  n t  [docs folder](docs)


W re  s t  used?
--------------------

T  Ho  T  l ne  avy ranker uses a var erty of both [batch and real t   features](../../../../src/scala/com/tw ter/t  l nes/pred ct on/common/aggregates/README.md) generated by t  fra work.
T se features are also used for ema l and ot r recom ndat ons. 